
# Lab 6 Validation Script

# You cannot write any code in this file â€“ to actually work on the lab, open `lab.py` and `lab.ipynb`.
#
# The only purpose of this script is to run all the public `grader.check` cells
# so that you can ensure all test cases pass using just the code in your `lab.py`.
#
# Before submitting Lab 6, run this script and make sure all test cases pass!
# If they don't, there's likely a function in `lab.ipynb` that is not implemented
# correctly in `lab.py`, or it could be that a function in `lab.py` depends on an
# object (e.g. a DataFrame) that is not an argument to that function.

# Do NOT edit this file. Instead, just call it from the command line,
# using the instructions in the assignment notebook.

import sys
questions = sys.argv[1:]


valid_ids = ['q1', 'q2', 'q3']
break_flag = False
invalid_ids = []
for question in questions:
    if question != 'all' and question not in valid_ids:
        invalid_ids.append(question)

if len(invalid_ids) > 0:
    print(str(invalid_ids) + ' is/are not a valid question number(s). The possible question numbers are ' + str(valid_ids) + '.')
    sys.exit()

# Initialize Otter
import otter
grader = otter.Notebook("lab.ipynb")

# %load_ext autoreload
# %autoreload 2

from lab import *

import os
import pandas as pd
import numpy as np
import requests
import bs4
import lxml

#!pip install lxml





# Don't delete this cell!
question1()

if 'q1' in questions or questions == [] or 'all' in questions:
    print(grader.check("q1"))





# don't delete this cell, but do run it -- it is needed for the autograder tests

# public test for extract_book_links 
extract_book_links_fp = os.path.join('data', 'products.html')
extract_book_out = extract_book_links(
    open(extract_book_links_fp, encoding='utf-8').read()
)
extract_book_url = 'scarlet-the-lunar-chronicles-2_218/index.html'

# doc tests for get product info
get_product_info_fp = os.path.join('data', 'Frankenstein.html')
get_product_info_out = get_product_info(
    open(get_product_info_fp, encoding='utf-8').read(), ['Default']
)

# public test for scrape books 
scrape_books_out = scrape_books(1, ['Mystery'])

if 'q2' in questions or questions == [] or 'all' in questions:
    print(grader.check("q2"))





# don't delete this cell, but do run it -- it is needed for the autograder tests
comments = get_comments(18344932)

if 'q3' in questions or questions == [] or 'all' in questions:
    print(grader.check("q3"))

